{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.v1 = void 0;\nvar stringify_1 = require(\"./stringify\");\nvar rng_1 = require(\"./rng\");\nvar _nodeId;\nvar _clockseq;\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\nvar v1 = function v1(options, buf) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var i = buf && offset || 0;\n  var b = buf || new Uint8Array(16);\n  var node = options && options.node ? options.node : _nodeId;\n  var clockseq = options && options.clockseq ? options.clockseq : _clockseq;\n  if (node == null || clockseq == null) {\n    var seedBytes = options && options.random ? options.random : options && options.rng ? options.rng() : rng_1.rng();\n    if (node == null) {\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n    if (clockseq == null) {\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n  var msecs = options && options.msecs ? options.msecs : Date.now();\n  var nsecs = options && options.nsecs ? options.nsecs : _lastNSecs + 1;\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000;\n  if (dt < 0 && options && !options.clockseq) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n  if ((dt < 0 || msecs > _lastMSecs) && options && !options.nsecs) {\n    nsecs = 0;\n  }\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n  msecs += 12219292800000;\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n  b[i++] = tmh >>> 24 & 0xf | 0x10;\n  b[i++] = tmh >>> 16 & 0xff;\n  b[i++] = clockseq >>> 8 | 0x80;\n  b[i++] = clockseq & 0xff;\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n  return buf || stringify_1.stringify(b);\n};\nexports.v1 = v1;","map":{"version":3,"mappings":"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","names":["_nodeId","_clockseq","_lastMSecs","_lastNSecs","v1","options","buf","offset","i","b","Uint8Array","node","clockseq","seedBytes","random","rng","rng_1","msecs","Date","now","nsecs","dt","Error","tl","tmh","n","stringify_1","exports"],"sourceRoot":"","sources":["../src/v1.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}